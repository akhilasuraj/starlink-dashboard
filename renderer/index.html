<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Starlink Dashboard</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="../node_modules/chart.js/dist/chart.umd.js"></script>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <div class="header">
        <h1 id="status">CONNECTING...</h1>
        <p id="uptime">Uptime: --</p>
      </div>

      <!-- Tabs -->
      <div class="tabs">
        <button class="tab-btn active" data-tab="network">NETWORK</button>
        <button class="tab-btn" data-tab="statistics">STATISTICS</button>
        <button class="tab-btn" data-tab="device">DEVICE</button>
        <button class="tab-btn" data-tab="logs">LOGS</button>
      </div>

      <!-- Tab Content -->
      <div class="tab-content">
        <!-- Network Tab -->
        <div id="network" class="tab-pane active">
          <div class="stats-row">
            <div class="stat-card">
              <div class="stat-label">DOWNLOAD</div>
              <div class="stat-value" id="download">--</div>
              <div class="stat-unit">Mbps</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">UPLOAD</div>
              <div class="stat-value" id="upload">--</div>
              <div class="stat-unit">Mbps</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">LATENCY</div>
              <div class="stat-value" id="latency">--</div>
              <div class="stat-unit">ms</div>
            </div>
          </div>
          <div class="graph-container">
            <canvas id="speedChart"></canvas>
          </div>
        </div>

        <!-- Statistics Tab -->
        <div id="statistics" class="tab-pane">
          <div class="stats-list">
            <!-- Ping Success -->
            <div class="stat-item">
              <div class="stat-item-header">
                <span class="stat-item-title">Ping success</span>
              </div>
              <div class="stat-item-value">
                <span class="stat-large" id="ping-success">--</span>
                <span class="stat-unit">%</span>
              </div>
              <div class="stat-item-subtitle">last 15 minutes</div>
              <div class="stat-item-chart">
                <canvas id="pingChart" height="30"></canvas>
              </div>
            </div>

            <!-- Latency -->
            <div class="stat-item">
              <div class="stat-item-header">
                <span class="stat-item-title">Latency</span>
              </div>
              <div class="stat-item-value">
                <span class="stat-large" id="latency-stat">--</span>
                <span class="stat-unit">ms</span>
              </div>
              <div class="stat-item-subtitle">median, last 15 minutes</div>
              <div class="stat-item-chart">
                <canvas id="latencyChart" height="30"></canvas>
              </div>
            </div>

            <!-- Power Draw -->
            <div class="stat-item">
              <div class="stat-item-header">
                <span class="stat-item-title">Power draw</span>
              </div>
              <div class="stat-item-value">
                <span class="stat-large" id="power-draw">--</span>
                <span class="stat-unit">W</span>
              </div>
              <div class="stat-item-subtitle">average, last 15 minutes</div>
              <div class="stat-item-chart">
                <canvas id="powerChart" height="30"></canvas>
              </div>
            </div>

            <!-- Throughput -->
            <div class="stat-item">
              <div class="stat-item-header">
                <span class="stat-item-title">Throughput</span>
              </div>
              <div class="stat-item-value">
                <span class="stat-large" id="throughput">--</span>
                <span class="stat-unit">Mbps</span>
              </div>
              <div class="stat-item-subtitle">download</div>
              <div class="stat-item-chart">
                <canvas id="throughputChart" height="30"></canvas>
              </div>
            </div>
          </div>
        </div>

        <!-- Device Tab -->
        <div id="device" class="tab-pane">
          <div class="obstruction-info">
            <h3 id="obstruction-text">Obstructed: 0%</h3>
            <div class="progress-bar">
              <div id="obstruction-bar" class="progress-fill"></div>
            </div>
          </div>
          <div class="device-section">
            <h3>DETAILS</h3>
            <div class="device-row">
              <span>Hardware</span>
              <span id="hardware">--</span>
            </div>
            <div class="device-row">
              <span>Software</span>
              <span id="software">--</span>
            </div>
            <div class="device-row">
              <span>GPS Sats</span>
              <span id="gps-sats">--</span>
            </div>
            <div class="device-row">
              <span>Eth Speed</span>
              <span id="eth-speed">--</span>
            </div>
            <div class="device-row">
              <span>Heater</span>
              <span id="heater">--</span>
            </div>
          </div>
          <div class="device-section">
            <h3>ALIGNMENT</h3>
            <div class="device-row">
              <span>Azimuth</span>
              <span id="azimuth">--</span>
            </div>
            <div class="device-row">
              <span>Elevation</span>
              <span id="elevation">--</span>
            </div>
            <div class="device-row">
              <span>Tilt</span>
              <span id="tilt">--</span>
            </div>
          </div>
        </div>

        <!-- Logs Tab -->
        <div id="logs" class="tab-pane">
          <div class="logs-container">
            <div class="logs-header">
              <h3>BACKEND LOGS</h3>
              <button id="clear-logs" class="clear-btn">CLEAR</button>
            </div>
            <div id="logs-content" class="logs-content">
              <div class="log-entry">
                <span class="log-time">--:--:--</span>
                <span class="log-level log-info">INFO</span>
                <span class="log-message">Waiting for logs...</span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
